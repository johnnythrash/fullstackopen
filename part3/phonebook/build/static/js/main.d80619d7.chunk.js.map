{"version":3,"sources":["components/Form.js","components/PersonForm.js","services/personServices.js","components/ResultsField.js","components/ConfirmField.js","App.js","index.js"],"names":["Form","value","text","onChange","PersonForm","props","onSubmit","newName","handleNameChange","newNumber","handleNumberChange","type","baseUrl","personServices","getAll","axios","get","createPerson","nameObject","post","update","id","put","removePerson","console","log","delete","ResultsField","namesToShow","setPersons","setConfirmMessage","handleClick","event","preventDefault","name","target","parseInt","window","confirm","then","res","data","message","setTimeout","catch","err","map","number","onClick","NotifyField","confirmMessage","className","App","useState","persons","setNewName","setNewNumber","showAll","setShowAll","useEffect","length","filter","toUpperCase","some","index","p","indexOf","alert","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d80619d7.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst Form = ({ value, text, onChange }) => {\n return(\n <div>\n    {text}<input value={value} onChange={onChange} />\n  </div>\n )\n}\n\n\nexport default Form","import React from 'react'\nimport Form from './Form'\n\n\n\nconst PersonForm = (props) => {\n  \n  return (\n    <div>\n      <h2>Phonebook:</h2>\n      <form onSubmit={props.onSubmit}>\n        <Form text='name: ' value={props.newName} onChange={props.handleNameChange} />\n        <Form text='number: ' value={props.newNumber} onChange={props.handleNumberChange} />\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n\n      </form>\n    </div>\n  )\n}\n\nexport default PersonForm","import axios from 'axios'\n\nconst baseUrl = 'http://192.168.1.26:3005/api/persons'\n\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst createPerson = (nameObject) => {\n  return axios.post(baseUrl, nameObject)\n}\n\nconst update = (id, nameObject) => {\n  return axios.put(`${baseUrl}/${id}`, nameObject)\n}\n\nconst removePerson = (id) => {\n  console.log(`${baseUrl}/${id}`)\n  return axios.delete(`${baseUrl}/${id}`)\n\n}\n\nconst personServices = {\n  getAll: getAll,\n  createPerson: createPerson,\n  update: update,\n  removePerson: removePerson\n}\n\nexport default personServices","import React from 'react'\nimport personServices from '../services/personServices'\n\n\nconst ResultsField = ( {namesToShow, setPersons, setConfirmMessage} ) => {\n\n  const handleClick = (event) => {\n    event.preventDefault()\n    const name = event.target.name\n    const id = parseInt(event.target.id)\n    \n    if(window.confirm(`do you really want to remove ${name}?`)){\n        personServices.removePerson(id).then(\n        personServices.getAll().then(res=>{\n          setPersons(res.data)\n          console.log(res.data)\n          setConfirmMessage({\n            type:'error',\n            message: `removed ${name} from phonebook`\n          })\n          setTimeout(()=>{\n            setConfirmMessage(null)\n          }, 5000)\n        }))              \n        .catch(err=>{\n          setConfirmMessage({type:'error',\n          message: \"error, name does not exist on server!\"})\n          console.log(err)\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Numbers:</h2>\n    <ul>\n      {namesToShow.map(name=>\n      <li key={name.id}>Name:{name.name} {name.number} <button id={name.id} name={name.name} onClick={handleClick}>delete</button></li>\n      )}\n    </ul>\n    </div>\n  )\n}\n\n\nexport default ResultsField","import React from 'react'\n\n\n  const NotifyField = ({ confirmMessage }) => {\n\n    if (confirmMessage === null){\n      return null\n    } \n    \n    if (confirmMessage.type === 'success'){\n      return (\n        <div className=\"notifySuccess\">\n          {confirmMessage.message}\n        </div>\n       )\n    }\n\n    if (confirmMessage.type === 'error'){\n      return (\n        <div className=\"notifyError\">\n          {confirmMessage.message}\n        </div>\n       )      \n    }\n\n\n  }\n\nexport default NotifyField","import React, { useEffect, useState } from 'react'\nimport Form from './components/Form'\nimport PersonForm from './components/PersonForm'\nimport ResultsField from './components/ResultsField'\nimport personServices from './services/personServices'\nimport SuccessField from './components/ConfirmField'\nimport './index.css'\n\n\nconst App = () => {\n  \n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState(' ')\n  const [ showAll, setShowAll ] = useState('')\n  const [ confirmMessage, setConfirmMessage ] = useState(null)\n\n  useEffect(() => {\n    personServices\n      .getAll()\n      .then(res=>{\n        setPersons(res.data)\n      })\n  }, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n \n    const nameObject = {\n      name: newName,\n      number: newNumber\n    }\n    \n    if (persons.some(name=> name.name === newName )){\n      if(window.confirm(`${newName} is already in phonebook. do you want to replace the number?`)){\n        const index = persons.map(p=>p.name).indexOf(newName)\n        if (index){\n          personServices.update(persons[index].id,nameObject)\n          .then(personServices.getAll()\n          .then(res=>{\n              setPersons(res.data)\n              setConfirmMessage({\n                type: 'success',\n                message:`changed number for ${nameObject.name}`\n              })\n              setTimeout(()=>{\n                setConfirmMessage(null)\n              }, 5000)\n            \n          }))\n        } else {\n          window.alert(\"error! couldn't find entry in database\")\n        }\n      } }\n    else { \n        setPersons(persons.concat(nameObject))\n        personServices.createPerson(nameObject).then(res=>{\n        personServices.getAll().then(res=>{\n          setPersons(res.data)\n          setNewName('')\n          setNewNumber('')\n          setConfirmMessage({\n            type: 'success',\n            message: `added ${nameObject.name} to database`\n          })\n          setTimeout(()=>{\n            setConfirmMessage(null)\n          }, 5000)\n        })\n        \n        })\n     }\n    }\n  \n  const handleNameChange = (event) =>  setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n  const handleFilterChange = (event) => setShowAll(event.target.value)\n\n  const namesToShow = showAll.length < 1? persons: persons.filter(name=>name.name.toUpperCase() === showAll.toUpperCase())\n\n  return (\n    <div>\n      <SuccessField confirmMessage={confirmMessage} />\n      <Form text=\"filter\" value={showAll} onChange={handleFilterChange} />\n      <PersonForm onSubmit={addName} newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} />\n      <ResultsField namesToShow={namesToShow} setConfirmMessage={setConfirmMessage} setPersons={setPersons} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n"],"sourceRoot":""}